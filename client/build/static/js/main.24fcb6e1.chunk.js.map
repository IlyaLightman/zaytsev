{"version":3,"sources":["utils/request.js","hooks/auth.hook.js","context/AuthContext.js","components/Panels/Vanta/Vanta.js","components/UI/Navbars/Mainbar/Mainbar.js","containers/MainPage/MainPage.js","components/UI/Navbars/Navbar/Navbar.js","hoc/Layout/Layout.js","components/UI/Buttons/Button/Button.js","components/UI/Inputs/Input/Input.js","components/UI/Loaders/Loader/Loader.js","hooks/http.hook.js","containers/AuthPage/AuthPage.js","containers/AuthPage/LogoutPage.js","components/Blog/PostBlock/PostBlock.js","store/actions/post.js","store/actions/actionTypes.js","containers/BlogPage/BlogPage.js","components/UI/Inputs/LargeInput/LargeInput.js","containers/PostCreator/PostCreator.js","containers/PostPage/PostPage.js","App.js","serviceWorker.js","store/reducers/post.js","store/reducers/rootReducer.js","index.js"],"names":["request","url","method","a","body","headers","JSON","stringify","fetch","response","json","data","ok","console","log","useAuth","useState","token","setToken","sessionId","setSessionId","ready","setReady","userId","setUserId","userData","setUserData","login","useCallback","sessionData","id","localStorage","setItem","logout","removeItem","useEffect","parse","getItem","noop","AuthContext","createContext","isAuthenticated","Vanta","props","vantaEffect","setVantaEffect","myRef","useRef","WAVES","el","current","THREE","mouseControls","touchControls","minHeight","scale","scaleMobile","color","shininess","zoom","destroy","ref","className","children","Mainbar","useContext","style","position","width","to","MainPage","Navbar","currRoute","background","notForRenderPathnames","Layout","shouldNavbarRender","includes","location","pathname","Fragment","Radium","type","theme","title","onClick","styles","display","justifyContent","alignItems","margin","padding","maxWidth","height","borderRadius","cursor","transition","placeholder","invalid","onChange","value","flexDirection","fontFamily","marginRight","border","outline","Loader","useHttp","loading","setLoading","error","setError","errors","message","clearError","AuthPage","page","setPage","email","password","confirm","nickname","form","setForm","invalidFields","setInvalidFields","backendValidationError","setBackendValidationError","redirect","setRedirect","auth","formValidator","changeHandler","field","registerHandler","msg","loginHandler","validateEmail","push","length","event","target","register","test","String","toLowerCase","fontSize","marginBottom","LogoutPage","PostBlock","cover","preview","date","tags","src","alt","fetchPostSuccess","post","createPostSuccess","connect","state","posts","dispatch","fetchPosts","isAdmin","Authorization","map","index","key","_id","createPost","content","author","Date","now","invalidPreview","setInvalidPreview","name","username","source","fetchPostById","match","params","App","Provider","path","component","PostPage","BlogPage","PostCreator","exact","Boolean","window","hostname","initialState","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","app","StrictMode","ReactDOM","render","document","getElementById","navigator","serviceWorker","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.24fcb6e1.chunk.js","sourcesContent":["const request = async (url, method, body = null, headers = {}) => {\r\n\ttry {\r\n\t\tif (body) {\r\n\t\t\tbody = JSON.stringify(body)\r\n\t\t\theaders['Content-Type'] = 'application/json'\r\n\t\t}\r\n\t\tconst response = await fetch(url, {\r\n\t\t\tmethod, body, headers\r\n\t\t})\r\n\t\tconst data = await response.json()\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tconsole.log('oh shit', data)\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t} catch (err) {\r\n\t\tconsole.log(err)\r\n\t}\r\n}\r\n\r\nexport default request","import { useState, useCallback, useEffect } from 'react'\r\nimport request from '../utils/request'\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n\tconst [token, setToken] = useState(null)\r\n\tconst [sessionId, setSessionId] = useState(null)\r\n\tconst [ready, setReady] = useState(false)\r\n\tconst [userId, setUserId] = useState(null)\r\n\tconst [userData, setUserData] = useState(null)\r\n\r\n\tconst login = useCallback(async (sessionId) => {\r\n\t\tconst data = await sessionData(sessionId)\r\n\r\n\t\tsetSessionId(sessionId)\r\n\t\tsetToken(data.token)\r\n\t\tsetUserId(data.id)\r\n\t\tsetUserData(data.userData)\r\n\r\n\t\tlocalStorage.setItem(storageName, JSON.stringify({\r\n\t\t\tsessionId\r\n\t\t}))\r\n\t}, [])\r\n\r\n\tconst logout = useCallback(async () => {\r\n\t\tawait request('/api/auth/kill',\r\n\t\t\t'POST', { sessionId })\r\n\r\n\t\tsetSessionId(null)\r\n\t\tsetUserId(null)\r\n\t\tsetToken(null)\r\n\t\tsetUserData(null)\r\n\r\n\t\tlocalStorage.removeItem(storageName)\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n\t\tif (data && data.sessionId) {\r\n\t\t\tlogin(data.sessionId)\r\n\t\t}\r\n\t\tsetReady(true)\r\n\t}, [login])\r\n\r\n\tconst sessionData = async (sessionId) => {\r\n\t\ttry {\r\n\t\t\treturn await request(\r\n\t\t\t\t'/api/auth/session',\r\n\t\t\t\t'POST', { sessionId })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn {\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tid: null,\r\n\t\t\t\tuserData: null\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn { login, logout, token, userId, ready, userData }\r\n}\r\n\r\nexport default useAuth","import { createContext } from 'react'\r\n\r\nfunction noop() {\r\n}\r\n\r\nexport const AuthContext = createContext({\r\n\ttoken: null,\r\n\tuserId: null,\r\n\tlogin: noop,\r\n\tlogout: noop,\r\n\tisAuthenticated: false\r\n})","import React, { useEffect, useRef, useState } from 'react'\r\nimport './Vanta.scss'\r\nimport * as THREE from 'three'\r\nimport WAVES from 'vanta/dist/vanta.waves.min'\r\n\r\nconst Vanta = props => {\r\n\tconst [vantaEffect, setVantaEffect] = useState(0)\r\n\tconst myRef = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!vantaEffect) {\r\n\t\t\tsetVantaEffect(WAVES({\r\n\t\t\t\tel: myRef.current,\r\n\t\t\t\tTHREE: THREE,\r\n\t\t\t\tmouseControls: true,\r\n\t\t\t\ttouchControls: true,\r\n\t\t\t\tminHeight: 500.00,\r\n\t\t\t\t// minWidth: 500.00,\r\n\t\t\t\tscale: 1.00,\r\n\t\t\t\tscaleMobile: 1.00,\r\n\t\t\t\tcolor: 0x4b78,\r\n\t\t\t\tshininess: 25.00,\r\n\t\t\t\tzoom: 1.25\r\n\t\t\t}))\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tif (vantaEffect) vantaEffect.destroy()\r\n\t\t}\r\n\t}, [vantaEffect])\r\n\treturn <div ref={myRef} className='Vanta'>\r\n\t\t{ props.children }\r\n\t</div>\r\n}\r\n\r\nexport default Vanta","// Навбар для главной страницы\r\n// Прозрачный с абсолютной позицией\r\n// Один параметр - цвет\r\n\r\nimport React, { useContext } from 'react'\r\nimport '../Bar.scss'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { AuthContext } from '../../../../context/AuthContext'\r\n\r\nconst Mainbar = props => {\r\n\tconst { isAuthenticated } = useContext(AuthContext)\r\n\r\n\treturn (\r\n\t\t<div className='Bar'\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\twidth: '100vw'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className='LeftButtons'>\r\n\t\t\t\t<NavLink to='/' className='NavLink'>Главная</NavLink>\r\n\t\t\t\t<NavLink to='/blog' className='NavLink'>Блог</NavLink>\r\n\t\t\t\t<NavLink to='/projects' className='NavLink'>Проекты</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='Logo'>\r\n\t\t\t\t<h3>zaytsev.xyz</h3>\r\n\t\t\t</div>\r\n\r\n\t\t\t{isAuthenticated ?\r\n\t\t\t\t<div className='RightButtons'>\r\n\t\t\t\t\t<NavLink to='/shop' className='NavLink'>Магазин</NavLink>\r\n\t\t\t\t\t<NavLink to='/profile' className='NavLink'>Профиль</NavLink>\r\n\t\t\t\t\t<NavLink to='/logout' className='NavLink'>Выйти</NavLink>\r\n\t\t\t\t</div> :\r\n\t\t\t\t<div className='RightButtons'>\r\n\t\t\t\t\t<NavLink to='/shop' className='NavLink'>Магазин</NavLink>\r\n\t\t\t\t\t<NavLink to='/auth' className='NavLink'>Войти</NavLink>\r\n\t\t\t\t</div>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Mainbar","import React from 'react'\r\nimport './MainPage.scss'\r\nimport Vanta from '../../components/Panels/Vanta/Vanta'\r\nimport Mainbar from '../../components/UI/Navbars/Mainbar/Mainbar'\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div className='Main'>\r\n\t\t\t<Mainbar />\r\n\t\t\t<Vanta>\r\n\t\t\t\t<div className='TheBestName'>\r\n\t\t\t\t\t<h1>Lorem Ipsum</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</Vanta>\r\n\t\t\t<h1>zaytsev.xyz</h1>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MainPage","import React, { useContext } from 'react'\r\nimport '../Bar.scss'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { AuthContext } from '../../../../context/AuthContext'\r\n\r\nconst Navbar = props => {\r\n\tconst { isAuthenticated } = useContext(AuthContext)\r\n\tconst currRoute = props.currRoute\r\n\r\n\treturn (\r\n\t\t<div className='Bar'\r\n\t\t     style={{\r\n\t\t\t     position: 'relative',\r\n\t\t\t     background: 'rgb(53,73,255)'\r\n\t\t     }}\r\n\t\t>\r\n\t\t\t<div className='LeftButtons'>\r\n\t\t\t\t<NavLink to='/' className='NavLink'>Главная</NavLink>\r\n\t\t\t\t<NavLink to='/blog' className='NavLink'>Блог</NavLink>\r\n\t\t\t\t<NavLink to='/projects' className='NavLink'>Проекты</NavLink>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='Logo'>\r\n\t\t\t\t<h3>zaytsev.xyz</h3>\r\n\t\t\t</div>\r\n\r\n\t\t\t{isAuthenticated ?\r\n\t\t\t\t<div className='RightButtons'>\r\n\t\t\t\t\t<NavLink to='/shop' className='NavLink'>Магазин</NavLink>\r\n\t\t\t\t\t<NavLink to='/profile' className='NavLink'>Профиль</NavLink>\r\n\t\t\t\t\t<NavLink to='/logout' className='NavLink'>Выйти</NavLink>\r\n\t\t\t\t</div> :\r\n\t\t\t\t<div className='RightButtons'>\r\n\t\t\t\t\t<NavLink to='/shop' className='NavLink'>Магазин</NavLink>\r\n\t\t\t\t\t<NavLink to='/auth' className='NavLink'>Войти</NavLink>\r\n\t\t\t\t</div>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport Navbar from '../../components/UI/Navbars/Navbar/Navbar'\r\n\r\nconst notForRenderPathnames = [\r\n\t'/'\r\n]\r\n\r\nconst Layout = props => {\r\n\tconst shouldNavbarRender = !notForRenderPathnames.includes(\r\n\t\tprops.location.pathname)\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{\r\n\t\t\t\tshouldNavbarRender ?\r\n\t\t\t\t\t<Navbar\r\n\t\t\t\t\t\tisAuthenticated={props.isAuthenticated}\r\n\t\t\t\t\t\tcurrRoute={props.location.pathname}/>\r\n\t\t\t\t\t: null\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tprops.children\r\n\t\t\t}\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nexport default Layout","import React from 'react'\r\nimport Radium from 'radium'\r\n\r\n// Общая кнопка сайта\r\nconst Button = props => {\r\n\tconst {\r\n\t\ttype, // primary, success, error\r\n\t\ttheme, // light, dark\r\n\t\ttitle,\r\n\t\tonClick\r\n\t} = props\r\n\r\n\tconst styles = {\r\n\t\t'primary': {\r\n\t\t\t'button': {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tmargin: '25px 12px 25px 12px',\r\n\t\t\t\tpadding: '0 12px 0 12px',\r\n\t\t\t\tmaxWidth: '150px',\r\n\t\t\t\theight: '50px',\r\n\t\t\t\tbackground: theme === 'light' ?\r\n\t\t\t\t\t'rgb(219,233,248)' : 'rgb(76,96,212)',\r\n\t\t\t\t// border: '1px solid black',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\ttransition: '0.33s',\r\n\r\n\t\t\t\t':hover': {\r\n\t\t\t\t\tbackground: theme === 'light' ?\r\n\t\t\t\t\t\t'rgb(171,200,232)' : 'rgb(108,148,222)'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'text': {\r\n\t\t\t\tcolor: theme === 'light' ? 'black' : 'white',\r\n\t\t\t\tmargin: '0 15px 0 15px'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'success': {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={styles[type]['button']}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tstyle={styles[type]['text']}\r\n\t\t\t>{title}</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Radium(Button)","import React from 'react'\r\nimport Radium from 'radium'\r\n\r\nconst Input = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tplaceholder,\r\n\t\tinvalid,\r\n\t\tonChange,\r\n\t\ttype,\r\n\t\tvalue\r\n\t} = props\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'center'\r\n\t\t}}>\r\n\t\t\t<p style={{\r\n\t\t\t\tcolor: invalid ? 'red' : 'black',\r\n\t\t\t\tfontFamily: 'Bahnschrift',\r\n\t\t\t\tmarginRight: '20px'\r\n\t\t\t}}\r\n\t\t\t>{title}</p>\r\n\t\t\t<input\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tborder: '1px solid gray',\r\n\t\t\t\t\tborderRadius: '10px',\r\n\t\t\t\t\tpadding: '5px 5px 5px 10px',\r\n\t\t\t\t\twidth: '225px',\r\n\t\t\t\t\theight: '25px',\r\n\t\t\t\t\toutline: 'none'\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Radium(Input)","import React from 'react'\r\nimport './Loader.css'\r\n\r\nconst Loader = () => (\r\n\t<div className=\"lds-roller\">\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t\t<div/>\r\n\t</div>\r\n)\r\n\r\nexport default Loader","import { useState, useCallback } from 'react'\r\n\r\nconst useHttp = () => {\r\n\tconst [ loading, setLoading ] = useState(false)\r\n\tconst [ error, setError ] = useState(null)\r\n\r\n\tconst request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n\t\tsetLoading(true)\r\n\t\ttry {\r\n\t\t\tif (body) {\r\n\t\t\t\tbody = JSON.stringify(body)\r\n\t\t\t\theaders['Content-Type'] = 'application/json'\r\n\t\t\t}\r\n\r\n\t\t\tconst response = await fetch(url, {\r\n\t\t\t\tmethod, body, headers\r\n\t\t\t})\r\n\t\t\tconst data = await response.json()\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tconsole.log('very error very very bad', data)\r\n\t\t\t\tsetError(data.errors|| 'Something wrong')\r\n\t\t\t\t// throw new Error(data.message || 'Something wrong')\r\n\t\t\t}\r\n\r\n\t\t\tsetLoading(false)\r\n\r\n\t\t\treturn data\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false)\r\n\t\t\tsetError(err.message)\r\n\t\t\t// throw err\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst clearError = useCallback(() => setError(null), [])\r\n\r\n\treturn { loading, request, error, clearError }\r\n}\r\n\r\nexport default useHttp","import React, { useContext, useEffect, useState } from 'react'\r\nimport './AuthPage.scss'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Button from '../../components/UI/Buttons/Button/Button'\r\nimport Input from '../../components/UI/Inputs/Input/Input'\r\nimport Loader from '../../components/UI/Loaders/Loader/Loader'\r\nimport useHttp from '../../hooks/http.hook'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nconst AuthPage = () => {\r\n\t// 0 - login, 1 - registration\r\n\tconst [page, setPage] = useState(0)\r\n\tconst [form, setForm] = useState({\r\n\t\temail: '', password: '', confirm: '', nickname: ''\r\n\t})\r\n\tconst [invalidFields, setInvalidFields] = useState(\r\n\t\t[]\r\n\t)\r\n\tconst [backendValidationError, setBackendValidationError] =\r\n\t\tuseState('')\r\n\tconst [redirect, setRedirect] = useState(false)\r\n\r\n\tconst { loading, request, /*error,*/ clearError } = useHttp()\r\n\tconst auth = useContext(AuthContext)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (form.email || form.password ||\r\n\t\t\tform.confirm || form.nickname)\r\n\t\tsetInvalidFields(formValidator())\r\n\t\t}, [form])\r\n\r\n\tconst changeHandler = (field, value) => {\r\n\t\tclearError()\r\n\t\tsetForm({ ...form, [field]: value})\r\n\t}\r\n\r\n\tconst registerHandler = async () => {\r\n\t\tconst data = await request(\r\n\t\t\t'/api/auth/register', 'POST', { ...form })\r\n\r\n\t\tif (data.errors) {\r\n\t\t\tsetBackendValidationError(data.errors[0].msg)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tawait loginHandler()\r\n\t}\r\n\r\n\tconst loginHandler = async () => {\r\n\t\tconst data = await request(\r\n\t\t\t'/api/auth/login', 'POST', { ...form })\r\n\t\tif (data.errors) {\r\n\t\t\tsetBackendValidationError(data.errors[0].msg)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// auth.login(data.token, data.userId)\r\n\t\tawait auth.login(data.sessionId)\r\n\t\tsetRedirect(true)\r\n\t}\r\n\r\n\tconst formValidator = () => {\r\n\t\tconst invalidFields = []\r\n\r\n\t\tif (!validateEmail(form.email)) {\r\n\t\t\tinvalidFields.push('email')\r\n\t\t}\r\n\t\tif (form.password.length < 6 || form.password.length > 24) {\r\n\t\t\tinvalidFields.push('password')\r\n\t\t}\r\n\t\tif (form.password !== form.confirm) {\r\n\t\t\tinvalidFields.push('confirm')\r\n\t\t}\r\n\t\tif (form.nickname.length < 3 || form.nickname.length > 16) {\r\n\t\t\tinvalidFields.push('nickname')\r\n\t\t}\r\n\r\n\t\treturn invalidFields\r\n\t}\r\n\r\n\tconst login = (\r\n\t\t<div className='Form'>\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Почта'\r\n\t\t\t\tplaceholder='Введите Email'\r\n\t\t\t\ttype='email'\r\n\t\t\t\tinvalid={invalidFields.includes('email')}\r\n\t\t\t\tvalue={form.email}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('email', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Пароль'\r\n\t\t\t\tplaceholder='Введите пароль'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tinvalid={invalidFields.includes('password')}\r\n\t\t\t\tvalue={form.password}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('password', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<div className='Buttons'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='primary'\r\n\t\t\t\t\ttheme='light'\r\n\t\t\t\t\ttitle='К регистрации'\r\n\t\t\t\t\tonClick={() => setPage(1)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='primary'\r\n\t\t\t\t\ttheme='dark'\r\n\t\t\t\t\ttitle='Войти'\r\n\t\t\t\t\tonClick={loginHandler}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst register = (\r\n\t\t<div className='Form'>\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Почта'\r\n\t\t\t\tplaceholder='Введите Email'\r\n\t\t\t\ttype='email'\r\n\t\t\t\tinvalid={invalidFields.includes('email')}\r\n\t\t\t\tvalue={form.email}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('email', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Пароль'\r\n\t\t\t\tplaceholder='Введите пароль'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tinvalid={invalidFields.includes('password')}\r\n\t\t\t\tvalue={form.password}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('password', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Ещё раз'\r\n\t\t\t\tplaceholder='Повторите пароль'\r\n\t\t\t\ttype='password'\r\n\t\t\t\tinvalid={invalidFields.includes('confirm')}\r\n\t\t\t\tvalue={form.confirm}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('confirm', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<Input\r\n\t\t\t\ttitle='Никнейм'\r\n\t\t\t\tplaceholder='Введите ник'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tinvalid={invalidFields.includes('nickname')}\r\n\t\t\t\tvalue={form.nickname}\r\n\t\t\t\tonChange={event => {\r\n\t\t\t\t\tchangeHandler('nickname', event.target.value)}}\r\n\t\t\t/>\r\n\r\n\t\t\t<div className='Buttons'>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='primary'\r\n\t\t\t\t\ttheme='light'\r\n\t\t\t\t\ttitle='Ко входу'\r\n\t\t\t\t\tonClick={() => setPage(0)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='primary'\r\n\t\t\t\t\ttheme='dark'\r\n\t\t\t\t\ttitle='Зарегистрироваться'\r\n\t\t\t\t\tonClick={registerHandler}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst validateEmail = email => {\r\n\t\tconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\t\treturn re.test(String(email).toLowerCase());\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='AuthPage'>\r\n\t\t\t{redirect ? <Redirect  to='/'/> : null}\r\n\t\t\t{page === 0 ? <h2 style={{fontFamily: 'Bahnschrift',\r\n\t\t\t\tfontSize: '450%', marginBottom: '5px'}}\r\n\t\t\t\t>Войдите</h2>\r\n\t\t\t\t: <h2 style={{fontFamily: 'Bahnschrift',\r\n\t\t\t\tfontSize: '450%', marginBottom: '5px'}}\r\n\t\t\t\t>Зарегистрируйтесь</h2>}\r\n\r\n\t\t\t<p style={{color: 'rgb(255,118,118)'}}\r\n\t\t\t> &nbsp; {`${backendValidationError}`} </p>\r\n\r\n\t\t\t{loading ? <Loader /> : page === 0 ? login : register}\r\n\r\n\t\t\t<p style={{color: 'gray'}}\r\n\t\t\t>Зарегистрируйтесь, чтобы писать комментарии... или да</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AuthPage","import React, { useContext, useState } from 'react'\r\nimport Button from '../../components/UI/Buttons/Button/Button'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext'\r\n\r\nconst LogoutPage = () => {\r\n\tconst [redirect, setRedirect] = useState(false)\r\n\tconst { logout } = useContext(AuthContext)\r\n\r\n\treturn (\r\n\t\tredirect ? <Redirect to='/' /> :\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\talignItems: 'center'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<h2 style={{fontFamily: 'Bahnschrift',\r\n\t\t\t\t\tfontSize: '450%', marginBottom: '5px'}}\r\n\t\t\t\t>Хотите выйти?</h2>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'row'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='primary'\r\n\t\t\t\t\t\ttheme='light'\r\n\t\t\t\t\t\ttitle='Остаться'\r\n\t\t\t\t\t\tonClick={() => setRedirect(true)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='primary'\r\n\t\t\t\t\t\ttheme='dark'\r\n\t\t\t\t\t\ttitle='Выйти'\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tawait logout()\r\n\t\t\t\t\t\t\tsetRedirect(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default LogoutPage","import React, { useState } from 'react'\r\nimport './PostBlock.scss'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst PostBlock = props => {\r\n\tconst {\r\n\t\tcover, preview, title, date, tags, id\r\n\t} = props\r\n\tconst [redirect, setRedirect] = useState(false)\r\n\r\n\tconst clickHandler = () => {\r\n\t\tsetRedirect(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\tredirect ? <Redirect to={`/post/${id}`}/> :\r\n\t\t\t<div className='PostBlock'\r\n\t\t\tonClick={clickHandler}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={{ border: '0.1 solid black', borderRadius: '9px 9px 0 0' }}\r\n\t\t\t\t\tsrc={cover} alt='title'\r\n\t\t\t\t\theight='200px' width='400px'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<h3>{title}</h3>\r\n\r\n\t\t\t\t<p className='Preview'\r\n\t\t\t\t>{preview}</p>\r\n\r\n\t\t\t\t<p className='Date'\r\n\t\t\t\t>{date}</p>\r\n\t\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default PostBlock","import {\r\n\tCREATE_POST_ERROR,\r\n\tCREATE_POST_START, CREATE_POST_SUCCESS, FETCH_POST_ERROR, FETCH_POST_START, FETCH_POST_SUCCESS,\r\n\tFETCH_POSTS_ERROR,\r\n\tFETCH_POSTS_START, FETCH_POSTS_SUCCESS\r\n} from './actionTypes'\r\nimport request from '../../utils/request'\r\n\r\nexport function fetchPosts() {\r\n\treturn async dispatch => {\r\n\t\tdispatch(fetchPostsStart())\r\n\r\n\t\ttry {\r\n\t\t\tconst data = await request('/api/post', 'GET')\r\n\r\n\t\t\tdispatch(fetchPostsSuccess(data))\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(fetchPostsError(err))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function fetchPostById(id) {\r\n\treturn async dispatch => {\r\n\t\tdispatch(fetchPostStart())\r\n\r\n\t\ttry {\r\n\t\t\tconst post = await request(`/api/post/${id}`,\r\n\t\t\t\t'GET')\r\n\r\n\t\t\tdispatch(fetchPostSuccess(post))\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(fetchPostError(err))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createPost(post, token) {\r\n\treturn async dispatch => {\r\n\t\tdispatch(createPostStart())\r\n\r\n\t\tpost = {\r\n\t\t\t...post, date: Date.now(), tags: []\r\n\t\t}\r\n\r\n\t\tconsole.log(post)\r\n\r\n\t\ttry {\r\n\t\t\tawait request(\r\n\t\t\t\t'/api/post/create', 'POST', post, {\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`\r\n\t\t\t\t})\r\n\r\n\t\t\tdispatch(createPostSuccess(post))\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(createPostError())\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function fetchPostsStart() {\r\n\treturn {\r\n\t\ttype: FETCH_POSTS_START\r\n\t}\r\n}\r\n\r\nexport function fetchPostsSuccess(posts) {\r\n\treturn {\r\n\t\ttype: FETCH_POSTS_SUCCESS,\r\n\t\tposts\r\n\t}\r\n}\r\n\r\nexport function fetchPostsError(err) {\r\n\treturn {\r\n\t\ttype: FETCH_POSTS_ERROR,\r\n\t\terror: err\r\n\t}\r\n}\r\n\r\nexport function fetchPostStart() {\r\n\treturn {\r\n\t\ttype: FETCH_POST_START\r\n\t}\r\n}\r\n\r\nexport function fetchPostSuccess(post) {\r\n\treturn {\r\n\t\ttype: FETCH_POST_SUCCESS,\r\n\t\tpost\r\n\t}\r\n}\r\n\r\nexport function fetchPostError(err) {\r\n\treturn {\r\n\t\ttype: FETCH_POST_ERROR,\r\n\t\terror: err\r\n\t}\r\n}\r\n\r\nexport function createPostStart() {\r\n\treturn {\r\n\t\ttype: CREATE_POST_START\r\n\t}\r\n}\r\n\r\nexport function createPostSuccess(post) {\r\n\treturn {\r\n\t\ttype: CREATE_POST_SUCCESS,\r\n\t\tpost\r\n\t}\r\n}\r\n\r\nexport function createPostError() {\r\n\treturn {\r\n\t\ttype: CREATE_POST_ERROR\r\n\t}\r\n}\r\n","export const FETCH_POSTS_START = 'FETCH_POSTS_START'\r\nexport const FETCH_POSTS_SUCCESS = 'FETCH_POSTS_SUCCESS'\r\nexport const FETCH_POSTS_ERROR = 'FETCH_POSTS_ERROR'\r\n\r\nexport const FETCH_POST_START = 'FETCH_POST_START'\r\nexport const FETCH_POST_SUCCESS = 'FETCH_POST_SUCCESS'\r\nexport const FETCH_POST_ERROR = 'FETCH_POST_ERROR'\r\n\r\nexport const CREATE_POST_START = 'CREATE_POST_START'\r\nexport const CREATE_POST_SUCCESS = 'CREATE_POST_SUCCESS'\r\nexport const CREATE_POST_ERROR = 'CREATE_POST_ERROR'","import React, { useContext, useEffect } from 'react'\r\nimport './BlogPage.scss'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { AuthContext } from '../../context/AuthContext'\r\nimport Button from '../../components/UI/Buttons/Button/Button'\r\nimport useHttp from '../../hooks/http.hook'\r\nimport PostBlock from '../../components/Blog/PostBlock/PostBlock'\r\nimport { fetchPosts } from '../../store/actions/post'\r\nimport Loader from '../../components/UI/Loaders/Loader/Loader'\r\n\r\nconst BlogPage = props => {\r\n\tconst auth = useContext(AuthContext)\r\n\tconst { request } = useHttp()\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.fetchPosts()\r\n\t}, [])\r\n\r\n\tconst isAdmin = auth.userData ?\r\n\t\tauth.userData.isAdmin : false\r\n\r\n\tconst fetchedPosts = posts => {\r\n\t\treturn posts.map((post, index) => {\r\n\t\t\treturn <PostBlock\r\n\t\t\t\tkey={'p' + index}\r\n\t\t\t\tcover={post.cover}\r\n\t\t\t\tpreview={post.preview}\r\n\t\t\t\ttitle={post.title}\r\n\t\t\t\tid={post._id}\r\n\t\t\t\tdate='30.04.20'\r\n\t\t\t/>\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='BlogPage'>\r\n\t\t\t<h3>Блог</h3>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<p>теги</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<p>публикаций за внеделю за всё время</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<p>сортировать по новизне по популярности</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t{isAdmin ?\r\n\t\t\t\t<NavLink to='/create'>Создать пост</NavLink> : null\r\n\t\t\t}\r\n\r\n\t\t\t{/*<PostBlock*/}\r\n\t\t\t{/*\tcover='https://avatars.mds.yandex.net/get-pdb/1774156/c29007c1-a75a-4f7a-b761-4c271d896d54/s1200?webp=false'*/}\r\n\t\t\t{/*\tpreview='Что как дела как где что'*/}\r\n\t\t\t{/*\ttitle='Добрый вечер'*/}\r\n\t\t\t{/*\tdate='30.05.20'*/}\r\n\t\t\t{/*/>*/}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='primary'\r\n\t\t\t\t\ttheme='dark'\r\n\t\t\t\t\ttitle='Проверка авторизации'\r\n\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\tawait request('/api/test/data',\r\n\t\t\t\t\t\t\t'POST', {}, {\r\n\t\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{props.loading ? <Loader /> : <div className='Posts'>\r\n\t\t\t\t{fetchedPosts(props.posts)}\r\n\t\t\t</div>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tposts: state.post.posts,\r\n\t\tloading: state.post.loading\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tfetchPosts: () =>\r\n\t\t\tdispatch(fetchPosts())\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogPage)","import React from 'react'\r\nimport Radium from 'radium'\r\n\r\nconst LargeInput = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tplaceholder,\r\n\t\tinvalid,\r\n\t\tonChange,\r\n\t\tvalue\r\n\t} = props\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'top'\r\n\t\t}}>\r\n\t\t\t<p style={{\r\n\t\t\t\tcolor: invalid ? 'red' : 'black',\r\n\t\t\t\tfontFamily: 'Bahnschrift',\r\n\t\t\t\tmarginRight: '20px'\r\n\t\t\t}}\r\n\t\t\t>{title}</p>\r\n\t\t\t<textarea\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tborder: '1px solid gray',\r\n\t\t\t\t\tborderRadius: '10px',\r\n\t\t\t\t\tpadding: '5px 5px 5px 10px',\r\n\t\t\t\t\twidth: '850px',\r\n\t\t\t\t\theight: '250px',\r\n\t\t\t\t\toutline: 'none'\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Radium(LargeInput)","import React, { useState } from 'react'\r\nimport './PostCreator.scss'\r\nimport { connect } from 'react-redux'\r\nimport Button from '../../components/UI/Buttons/Button/Button'\r\nimport Input from '../../components/UI/Inputs/Input/Input'\r\nimport LargeInput from '../../components/UI/Inputs/LargeInput/LargeInput'\r\nimport { createPost } from '../../store/actions/post'\r\nimport Loader from '../../components/UI/Loaders/Loader/Loader'\r\nimport useAuth from '../../hooks/auth.hook'\r\nimport ReactMarkdown from 'react-markdown'\r\n\r\nconst PostCreator = props => {\r\n\tconst [form, setForm] = useState({\r\n\t\ttitle: '', cover: '', content: '', preview: ''\r\n\t})\r\n\tconst [invalidPreview, setInvalidPreview] = useState(false)\r\n\r\n\tconst { userId, userData, token } = useAuth()\r\n\r\n\tconst changeHandler = (field, value) => {\r\n\t\tsetForm({ ...form, [field]: value })\r\n\r\n\t\tif (form.preview.length > 45) {\r\n\t\t\tsetInvalidPreview(true)\r\n\t\t} else {\r\n\t\t\tsetInvalidPreview(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst createHandler = () => {\r\n\t\tconst author = {\r\n\t\t\tname: userData.username, userId\r\n\t\t}\r\n\t\tconst post = { ...form, author }\r\n\r\n\t\tprops.createPost(post, token)\r\n\t}\r\n\r\n\treturn (props.loading ? <Loader /> :\r\n\t\t\t<div className='PostCreator'>\r\n\t\t\t\t<p>Новый пост</p>\r\n\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\twidth: '850px',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\tmarginBottom: '10px'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttitle='Название'\r\n\t\t\t\t\t\tplaceholder='Название поста'\r\n\t\t\t\t\t\tinvalid={false}\r\n\t\t\t\t\t\tvalue={form.title}\r\n\t\t\t\t\t\tonChange={event =>\r\n\t\t\t\t\t\t\tchangeHandler('title', event.target.value)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttitle='Обложка'\r\n\t\t\t\t\t\tplaceholder='Ссылка на картинку'\r\n\t\t\t\t\t\tinvalid={false}\r\n\t\t\t\t\t\tvalue={form.cover}\r\n\t\t\t\t\t\tonChange={event =>\r\n\t\t\t\t\t\t\tchangeHandler('cover', event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\twidth: '500px',\r\n\t\t\t\t\tmarginBottom: '25px'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttitle='Превью для главной'\r\n\t\t\t\t\t\tplaceholder='Максимум 45 символов'\r\n\t\t\t\t\t\tinvalid={invalidPreview}\r\n\t\t\t\t\t\tvalue={form.preview}\r\n\t\t\t\t\t\tonChange={event =>\r\n\t\t\t\t\t\t\tchangeHandler('preview', event.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<LargeInput\r\n\t\t\t\t\ttitle='Текст'\r\n\t\t\t\t\tplaceholder='Markdown редактор'\r\n\t\t\t\t\tinvalid={false}\r\n\t\t\t\t\tonChange={event =>\r\n\t\t\t\t\t\tchangeHandler('content', event.target.value)}\r\n\t\t\t\t\tvalue={form.content}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\tdisplay: 'flex'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='primary'\r\n\t\t\t\t\t\ttheme='light'\r\n\t\t\t\t\t\ttitle='Превью'\r\n\t\t\t\t\t\tonClick={() => { }}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='primary'\r\n\t\t\t\t\t\ttheme='dark'\r\n\t\t\t\t\t\ttitle='Опубликовать'\r\n\t\t\t\t\t\tonClick={createHandler}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={{\r\n\t\t\t\t\twidth: '950px',\r\n\t\t\t\t\tborder: '1px solid gray',\r\n\t\t\t\t\tborderRadius: '10px',\r\n\t\t\t\t\tpadding: '5px 5px 5px 10px',\r\n\t\t\t\t\tmarginBottom: '100px'\r\n\t\t\t\t}}>\r\n\t\t\t\t\t<ReactMarkdown\r\n\t\t\t\t\t\tsource={form.content}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tloading: state.post.loading\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tcreatePost: (title, cover, content, author) =>\r\n\t\t\tdispatch(createPost(title, cover, content, author))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostCreator)","import React, { useEffect } from 'react'\r\nimport './PostPage.scss'\r\nimport { connect } from 'react-redux'\r\nimport { fetchPostById } from '../../store/actions/post'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport Loader from '../../components/UI/Loaders/Loader/Loader'\r\n\r\nconst PostPage = props => {\r\n\tuseEffect(() => {\r\n\t\tconsole.log('useEffect')\r\n\t\tprops.fetchPostById(props.match.params.id)\r\n\t}, [])\r\n\r\n\tconst pageContent = post => (\r\n\t\tpost ?\r\n\t\t\t<div>\r\n\t\t\t\t<h2 style={{color: 'gray'}}\r\n\t\t\t\t>{post.title}</h2>\r\n\r\n\t\t\t\t<ReactMarkdown\r\n\t\t\t\t\tsource={post.content}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<p style={{color: 'rgb(162,177,191)'}}\r\n\t\t\t\t>{post.author.name}</p>\r\n\t\t\t\t<p style={{color: 'rgb(126,154,160)'}}\r\n\t\t\t\t>{post.date}</p>\r\n\t\t\t</div>\r\n\t\t\t: <Loader/>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className='PostPage'>\r\n\t\t\t<div className=\"Content\">\r\n\t\t\t\t{pageContent(props.post)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tpost: state.post.post,\r\n\t\tloading: state.post.loading\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tfetchPostById: id =>\r\n\t\t\tdispatch(fetchPostById(id))\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostPage)","import React from 'react'\r\nimport './App.css'\r\nimport useAuth from './hooks/auth.hook'\r\nimport { AuthContext } from './context/AuthContext'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport MainPage from './containers/MainPage/MainPage'\r\nimport Layout from './hoc/Layout/Layout'\r\nimport AuthPage from './containers/AuthPage/AuthPage'\r\nimport LogoutPage from './containers/AuthPage/LogoutPage'\r\nimport BlogPage from './containers/BlogPage/BlogPage'\r\nimport PostCreator from './containers/PostCreator/PostCreator'\r\nimport PostPage from './containers/PostPage/PostPage'\r\n\r\nfunction App() {\r\n\tconst { token, login, logout, userId/*, ready */, userData } = useAuth()\r\n\tconst isAuthenticated = !!token\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{\r\n\t\t\ttoken, login, logout, userId, isAuthenticated, userData\r\n\t\t}}>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Route path='/auth' component={AuthPage} />\r\n\t\t\t\t\t<Route path='/logout' component={LogoutPage} />\r\n\t\t\t\t\t<Route path='/post/:id' component={PostPage} />\r\n\t\t\t\t\t<Route path='/blog' component={BlogPage} />\r\n\t\t\t\t\t<Route path='/create' component={PostCreator} />\r\n\t\t\t\t\t<Route exact path='/' component={MainPage} />\r\n\t\t\t\t\t{/*<Redirect to='/' />*/}\r\n\t\t\t\t</Layout>\r\n\t\t\t</Switch>\r\n\t\t</AuthContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\r\n\tCREATE_POST_ERROR,\r\n\tCREATE_POST_START,\r\n\tCREATE_POST_SUCCESS,\r\n\tFETCH_POST_ERROR,\r\n\tFETCH_POST_START,\r\n\tFETCH_POST_SUCCESS,\r\n\tFETCH_POSTS_ERROR,\r\n\tFETCH_POSTS_START,\r\n\tFETCH_POSTS_SUCCESS\r\n} from '../actions/actionTypes'\r\n\r\nconst initialState = {\r\n\tposts: [],\r\n\tloading: false,\r\n\terror: null,\r\n\tpost: null\r\n}\r\n\r\nexport default function postReducer(state = initialState, action) {\r\n\tswitch(action.type) {\r\n\t\tcase FETCH_POSTS_START:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: true\r\n\t\t\t}\r\n\t\tcase FETCH_POSTS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: false, posts: action.posts\r\n\t\t\t}\r\n\t\tcase FETCH_POSTS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: false, error: action.error\r\n\t\t\t}\r\n\t\tcase FETCH_POST_START:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: true\r\n\t\t\t}\r\n\t\tcase FETCH_POST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: false, post: action.post\r\n\t\t\t}\r\n\t\tcase FETCH_POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: false, error: action.error\r\n\t\t\t}\r\n\t\tcase CREATE_POST_START:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: true\r\n\t\t\t}\r\n\t\tcase CREATE_POST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: false, post: action.post\r\n\t\t\t}\r\n\t\tcase CREATE_POST_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport postReducer from './post'\r\n\r\nexport default combineReducers({\r\n\tpost: postReducer\r\n})","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { BrowserRouter } from 'react-router-dom'\nimport { createStore, compose, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport rootReducer from './store/reducers/rootReducer'\nimport thunk from 'redux-thunk'\n\nconst composeEnhancers =\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n          // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n        }) : compose;\n\nconst store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n)\n\nconst app = (\n        <React.StrictMode>\n            <Provider store={ store }>\n                <BrowserRouter>\n                    <App />\n                </BrowserRouter>\n            </Provider>\n        </React.StrictMode>\n)\n\nReactDOM.render(\n    app, document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}